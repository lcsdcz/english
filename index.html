<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英语对话AI助手 - English Conversation AI Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-robot me-2"></i>
                英语对话AI助手
            </a>
            <div class="navbar-nav ms-auto">
                <button class="btn btn-outline-light btn-sm" onclick="showHelp()">
                    <i class="fas fa-question-circle me-1"></i>帮助
                </button>
                <button class="btn btn-outline-light btn-sm ms-2" onclick="showStats()">
                    <i class="fas fa-chart-bar me-1"></i>统计
                </button>
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <div class="container mt-4">
        <!-- 欢迎区域 -->
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="welcome-card text-center mb-4">
                    <h1 class="display-6 text-primary mb-3">
                        <i class="fas fa-star text-warning me-2"></i>
                        欢迎使用英语对话AI助手
                    </h1>
                    <p class="lead text-muted">
                        AI将用英语回复，并自动翻译成中文
                    </p>
                    <div class="alert alert-info" role="alert">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>提示：</strong>支持中英文混合输入，AI只使用英语回复
                    </div>
                </div>
            </div>
        </div>

        <!-- 对话区域 -->
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="chat-container">
                    <!-- 对话历史 -->
                    <div id="chatHistory" class="chat-history">
                        <div class="message ai-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-text">
                                    Hello! I'm your English conversation AI assistant. I'm here to help you improve your English skills through natural conversation. What would you like to talk about today?
                                </div>
                                <div class="message-translation">
                                    你好！我是你的英语对话AI助手。我在这里帮助你通过自然对话提高英语水平。你今天想聊什么？
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 输入区域 -->
                    <div class="chat-input-container">
                        <div class="input-group">
                            <textarea 
                                id="userInput" 
                                class="form-control" 
                                placeholder="请输入您想聊的话题... (Type your message here...)"
                                rows="3"
                                maxlength="500"
                            ></textarea>
                            <button 
                                class="btn btn-primary" 
                                type="button" 
                                id="sendButton"
                                onclick="sendMessage()"
                            >
                                <i class="fas fa-paper-plane me-1"></i>
                                发送
                            </button>
                        </div>
                        <div class="input-footer">
                            <small class="text-muted">
                                <span id="charCount">0</span>/500 字符
                            </small>
                            <small class="text-muted ms-3">
                                <i class="fas fa-lightbulb text-warning me-1"></i>
                                建议话题：英语学习、个人发展、兴趣爱好等
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 功能按钮区域 -->
        <div class="row justify-content-center mt-4">
            <div class="col-lg-8">
                <div class="d-flex justify-content-center gap-2 flex-wrap">
                    <button class="btn btn-outline-secondary" onclick="exportChat()">
                        <i class="fas fa-download me-1"></i>导出对话
                    </button>
                    <button class="btn btn-outline-secondary" onclick="clearChat()">
                        <i class="fas fa-trash me-1"></i>清空对话
                    </button>
                    <button class="btn btn-outline-secondary" onclick="showSettings()">
                        <i class="fas fa-cog me-1"></i>设置
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 加载指示器 -->
    <div id="loadingIndicator" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">加载中...</span>
            </div>
            <p class="mt-3 text-white">AI助手正在思考中...</p>
        </div>
    </div>

    <!-- 帮助模态框 -->
    <div class="modal fade" id="helpModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-question-circle text-primary me-2"></i>
                        使用帮助
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>🎯 主要功能</h6>
                    <ul>
                        <li><strong>纯英语对话</strong> - AI只使用英语回复，帮助提升英语水平</li>
                        <li><strong>内容过滤</strong> - 自动过滤不当内容，确保对话积极正面</li>
                        <li><strong>中文翻译</strong> - 自动将AI回复翻译成中文，便于理解</li>
                        <li><strong>对话历史</strong> - 自动保存对话记录</li>
                    </ul>
                    
                    <h6>💡 建议话题</h6>
                    <ul>
                        <li>🎓 <strong>英语学习</strong>：语法、词汇、发音等</li>
                        <li>🌱 <strong>个人发展</strong>：目标设定、时间管理、技能提升</li>
                        <li>💭 <strong>积极思考</strong>：正面心态、压力管理、自我激励</li>
                        <li>🏫 <strong>教育文化</strong>：学习方法、文化差异、知识分享</li>
                        <li>🎨 <strong>兴趣爱好</strong>：音乐、电影、阅读、运动等</li>
                        <li>✈️ <strong>旅行探索</strong>：目的地介绍、文化体验、旅行建议</li>
                        <li>🔬 <strong>科学技术</strong>：最新科技、科学发现、技术趋势</li>
                        <li>💪 <strong>健康生活</strong>：健身、营养、心理健康、生活习惯</li>
                        <li>🚀 <strong>励志激励</strong>：成功故事、人生哲理、积极能量</li>
                    </ul>
                    
                    <h6>🚫 禁止内容</h6>
                    <p class="text-danger">黄赌毒等违法内容将被自动过滤，AI会引导您讨论积极正面的话题。</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 统计模态框 -->
    <div class="modal fade" id="statsModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-chart-bar text-primary me-2"></i>
                        对话统计
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="statsContent">
                        <p class="text-center">加载统计信息中...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 设置模态框 -->
    <div class="modal fade" id="settingsModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-cog text-primary me-2"></i>
                        设置
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">显示英文回复</label>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="showEnglish" checked>
                            <label class="form-check-label" for="showEnglish">显示AI的英文回复</label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">显示中文翻译</label>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="showChinese" checked>
                            <label class="form-check-label" for="showChinese">显示中文翻译</label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">自动保存对话</label>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="autoSave" checked>
                            <label class="form-check-label" for="autoSave">自动保存对话历史</label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" onclick="saveSettings()">保存设置</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 配置文件 -->
    <script src="js/config.js"></script>
    <!-- 主要应用逻辑 -->
    <script src="js/app.js"></script>
</body>
</html>
